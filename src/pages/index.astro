---
import Layout from "../layouts/Layout.astro";
import { getCollection } from 'astro:content';
const recipes = (await getCollection('recipes')).slice(0,6);
---
<Layout title="Assorti.ai — AI без суеты" description="Готовые AI-рецепты для видео, текста, изображений и бизнеса">
  <section class="py-16" style="background:var(--grad)">
    <h1 class="font-['Playfair_Display'] text-4xl md:text-5xl text-navy leading-tight">AI без суеты — готовые рецепты под твои задачи</h1>
    <p class="mt-3 max-w-2xl text-slate-600">Выбирай задачу → следуй 3–5 шагам → получай результат за 5–10 минут. Курация инструментов, промпты и видео — всё на одной странице.</p>
    <div class="mt-5 flex gap-3">
      <a href="/recipes" class="inline-flex items-center px-5 py-3 rounded-xl bg-teal text-white font-bold shadow-soft">Explore Recipes</a>
      <a href="/about" class="inline-flex items-center px-5 py-3 rounded-xl border-2 border-teal text-teal font-bold">How it works</a>
    </div>
  </section>

  <section class="py-8">
    <h2 class="text-xl font-semibold mb-3">Рецепты недели</h2>
    <div class="grid gap-5 sm:grid-cols-2 lg:grid-cols-3">
      {recipes.map(r => (
        <a href={`/recipes/${r.slug}`} class="group border border-line rounded-xl overflow-hidden bg-white hover:shadow-soft transition">
          <img src={r.data.preview ?? '/img/placeholder.png'} alt={r.data.title} class="aspect-[16/10] w-full object-cover bg-slate-100" loading="lazy" />
          <div class="p-4">
            <div class="flex gap-2 mb-2">
              <span class="px-2 py-0.5 rounded-full text-xs bg-teal/10 text-teal border border-teal/20">{r.data.category}</span>
              <span class="px-2 py-0.5 rounded-full text-xs bg-slate-100 text-slate-700 border border-line">{r.data.eta} min</span>
            </div>
            <h3 class="font-semibold group-hover:text-navy">{r.data.title}</h3>
            <p class="text-slate-600 text-sm mt-1">{r.data.summary}</p>
          </div>
        </a>
      ))}
    </div>
  </section>

  <section class="py-10">
    <h2 class="text-xl font-semibold mb-2">Подписка</h2>
    <p class="text-slate-600">Получай «Model of the Week» на email.</p>
    <div class="mt-3 border border-line rounded-xl p-4 bg-slate-50">[Вставь ConvertKit embed]</div>
  </section>
</Layout>
