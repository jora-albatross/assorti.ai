---
import RecipeCard from "../../components/RecipeCard.astro";
import { getCollection } from "astro:content";

const recipes = await getCollection('recipes');
// при желании — сортировка: последние наверх
// recipes.sort((a,b) => (b.data?.date ?? 0) - (a.data?.date ?? 0));
---

<section class="py-10">
  <div class="max-w-6xl mx-auto px-5">
    <header class="mb-6">
      <h1 class="font-display text-3xl md:text-4xl text-secondary">All Recipes</h1>
      <p class="text-secondary/70 mt-1">Ready-to-use playbooks for creators, marketers and founders.</p>
    </header>

    {recipes.length === 0 ? (
      <div class="p-6 rounded-xl border border-slate-200 text-secondary/70">
        No recipes yet. Add files into <code>/content/recipes/</code>.
      </div>
    ) : (
      <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
        {recipes.map((r) => <RecipeCard recipe={r} />)}
      </div>
    )}
  </div>
</section>
