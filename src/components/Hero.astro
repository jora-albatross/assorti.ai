---
const {
  titleLine1 = "Curated AI Recipes,",
  titleLine2 = "Ready to Ship",
  subtitle = "Playbooks that actually save time. No fluff — just repeatable workflows.",
  primaryLabel = "Explore Recipes",
  primaryHref = "/recipes",
  secondaryLabel = "How it works",
  secondaryHref = "/about",
} = Astro.props;
---
<section class="relative overflow-hidden pt-16 pb-14">
  <div class="max-w-6xl mx-auto px-5 grid items-center gap-10 md:grid-cols-2">

    <!-- ЛЕВАЯ КОЛОНКА: текст -->
    <div class="animate-hero-in">
      <!-- Чуть больше line-height, чтобы не резало «y» -->
      <h1 class="font-display text-secondary text-4xl md:text-6xl leading-[1.14] md:leading-[1.08]">
        <span class="block">{titleLine1}</span>
        <!-- микро-зазор снизу на всякий случай -->
        <span class="block pb-[2px] bg-gradient-to-r from-gradientStart to-gradientEnd bg-clip-text text-transparent">
          {titleLine2}
        </span>
      </h1>

      <p class="mt-5 text-lg md:text-xl text-secondary/80">
        {subtitle}
      </p>

      <div class="mt-8 flex items-center gap-3">
        <a href={primaryHref}
           class="btn-primary inline-flex items-center justify-center px-5 py-3 rounded-xl bg-accent text-white font-semibold shadow-sm hover:opacity-90 transition">
          {primaryLabel}
        </a>
        <a href={secondaryHref}
           class="inline-flex items-center justify-center px-5 py-3 rounded-xl border border-slate-300 text-secondary hover:bg-slate-50 transition">
          {secondaryLabel}
        </a>
      </div>
    </div>

    <!-- ПРАВАЯ КОЛОНКА: иллюстрация узлов/связей -->
    <div class="relative animate-hero-in-delay">
      <div class="pointer-events-none absolute -inset-8 rounded-[36px] blur-3xl opacity-60"
           style="background: radial-gradient(120px 120px at 20% 30%, rgba(91,108,255,0.20), transparent 60%),
                   radial-gradient(160px 160px at 70% 60%, rgba(155,91,255,0.18), transparent 60%),
                   radial-gradient(120px 120px at 40% 80%, rgba(255,107,107,0.16), transparent 60%);">
      </div>

      <div class="relative rounded-2xl border border-slate-200 bg-white/70 backdrop-blur p-4 md:p-6 shadow-sm">
        <svg viewBox="0 0 560 420" class="w-full h-auto" role="img" aria-label="Abstract AI node graph">
          <defs>
            <linearGradient id="strokeGrad" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="#5B6CFF"/>
              <stop offset="100%" stop-color="#9B5BFF"/>
            </linearGradient>
            <linearGradient id="nodeGrad" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="#5B6CFF"/>
              <stop offset="100%" stop-color="#9B5BFF"/>
            </linearGradient>
          </defs>

          <!-- Рёбра -->
          <g stroke="url(#strokeGrad)" stroke-opacity="0.45" stroke-width="2" class="motion-safe:animate-graph-pulse">
            <line x1="70" y1="90" x2="210" y2="120" />
            <line x1="210" y1="120" x2="320" y2="80" />
            <line x1="320" y1="80" x2="450" y2="140" />
            <line x1="210" y1="120" x2="260" y2="210" />
            <line x1="260" y1="210" x2="120" y2="230" />
            <line x1="260" y1="210" x2="400" y2="240" />
            <line x1="400" y1="240" x2="480" y2="320" />
            <line x1="120" y1="230" x2="80"  y2="320" />
            <line x1="320" y1="80"  x2="400" y2="40"  />
          </g>

          <!-- Узлы -->
          <g>
            <circle cx="210" cy="120" r="10" fill="url(#nodeGrad)" class="motion-safe:animate-float-slow" />
            <circle cx="260" cy="210" r="11" fill="url(#nodeGrad)" class="motion-safe:animate-float" />
            <circle cx="400" cy="240" r="10" fill="url(#nodeGrad)" class="motion-safe:animate-float" />
            <circle cx="320" cy="80"  r="9"  fill="url(#nodeGrad)" class="motion-safe:animate-float" />
            <circle cx="70"  cy="90"  r="6"  fill="#5B6CFF" class="motion-safe:animate-float-fast" />
            <circle cx="450" cy="140" r="6"  fill="#9B5BFF" class="motion-safe:animate-float-fast" />
            <circle cx="120" cy="230" r="6"  fill="#5B6CFF" class="motion-safe:animate-float-fast" />
            <circle cx="480" cy="320" r="6"  fill="#9B5BFF" class="motion-safe:animate-float-fast" />
            <circle cx="80"  cy="320" r="6"  fill="#5B6CFF" class="motion-safe:animate-float-fast" />
            <circle cx="400" cy="40"  r="5"  fill="#9B5BFF" class="motion-safe:animate-float-fast" />
          </g>

          <g opacity="0.12" class="motion-safe:animate-breathe">
            <circle cx="260" cy="210" r="46" fill="#FF6B6B"/>
            <circle cx="210" cy="120" r="36" fill="#5B6CFF"/>
          </g>
        </svg>

        <div class="mt-3 text-xs text-secondary/60">
          Auto-curated connections between tools, prompts and outputs.
        </div>
      </div>
    </div>
  </div>

  <div class="absolute inset-x-0 -bottom-px h-px bg-gradient-to-r from-transparent via-slate-200 to-transparent"></div>
</section>

<style>
  /* Появление блоков */
  @keyframes heroIn {
    from { opacity: 0; transform: translateY(10px); }
    to   { opacity: 1; transform: translateY(0); }
  }
  .animate-hero-in       { animation: heroIn .7s ease-out both; }
  .animate-hero-in-delay { animation: heroIn .7s ease-out .12s both; }

  /* Hover-пульс для primary */
  @keyframes softPulse {
    0%   { transform: scale(1);   box-shadow: 0 6px 14px rgba(255,107,107,.30); }
    50%  { transform: scale(1.025); box-shadow: 0 10px 22px rgba(255,107,107,.35); }
    100% { transform: scale(1);   box-shadow: 0 6px 14px rgba(255,107,107,.30); }
  }
  .btn-primary:hover { animation: softPulse .9s ease-out; }

  /* Плавающие узлы */
  @keyframes float { 0% {transform:translateY(0)} 50% {transform:translateY(-6px)} 100% {transform:translateY(0)} }
  @keyframes floatSlow { 0% {transform:translateY(0)} 50% {transform:translateY(-4px)} 100% {transform:translateY(0)} }
  @keyframes floatFast { 0% {transform:translateY(0)} 50% {transform:translateY(-8px)} 100% {transform:translateY(0)} }
  @keyframes breathe { 0% {transform:scale(1);opacity:.10} 50% {transform:scale(1.06);opacity:.18} 100% {transform:scale(1);opacity:.10} }
  @keyframes graphPulse { 0% {stroke-opacity:.35} 50% {stroke-opacity:.55} 100% {stroke-opacity:.35} }

  .animate-float { animation: float 6s ease-in-out infinite; }
  .animate-float-slow { animation: floatSlow 7.5s ease-in-out infinite; }
  .animate-float-fast { animation: floatFast 5s ease-in-out infinite; }
  .animate-breathe { animation: breathe 7s ease-in-out infinite; }
  .animate-graph-pulse { animation: graphPulse 4.5s ease-in-out infinite; }

  /* Уважение к reduced-motion */
  @media (prefers-reduced-motion: reduce) {
    .animate-hero-in, .animate-hero-in-delay,
    .btn-primary:hover,
    .animate-float, .animate-float-slow, .animate-float-fast,
    .animate-breathe, .animate-graph-pulse {
      animation: none !important;
      transform: none !important;
    }
  }
</style>
